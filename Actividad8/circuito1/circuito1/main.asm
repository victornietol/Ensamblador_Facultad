;
; circuito1.asm
;
; Created: 09/11/2023 11:46:01 p. m.
; Author : Victor
;


; Replace with your application code
		; CONFIGURACION DE PUERTOS
		CBI DDRD, 3 ; PD3 ENTRADA
		SBI PORTD, 3 ; PD3 PULL UP
		LDI R16, 0X0F
		OUT DDRC, R16 ; PC[0:3] SALIDA
		LDI R19, 0X0F

		; CONFIGURACION DE INT1
		LDI R16, 0X00
		LDI R17, 0X02
		LDI R18, 0X08

		OUT EIMSK, R17
		STS EICRA, R18
		OUT EIFR, R16

		; MOSTRAR VALOR INICIAL
		OUT PORTC, R16

		; INTF1 = 1?
COMPARA: SBIS EIFR, 1
		RJMP COMPARA  ; NO
		CPSE R16, R19 ; PC=0X0F?
		RJMP NO		  ; NO
		CLR R16		  ; SI
		RJMP SI
NO:		INC R16
SI:		OUT PORTC, R16
		SBI EIFR, 1
		RJMP COMPARA